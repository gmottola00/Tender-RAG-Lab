# =============================================================================
# Tender-RAG-Lab Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# =============================================================================
# Database - Supabase PostgreSQL
# =============================================================================
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/database
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_JWT=your-jwt-secret
SUPABASE_PSW=your-password
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
STORAGE_BUCKET=tender_docs_public

# =============================================================================
# Ollama - Local LLM & Embeddings
# =============================================================================
OLLAMA_URL=http://localhost:11434
OLLAMA_LLM_MODEL=phi3:mini
OLLAMA_EMBED_MODEL=nomic-embed-text

# =============================================================================
# Document Chunking
# =============================================================================
CHUNK_MAX_TOKENS=800
CHUNK_MIN_TOKENS=400
CHUNK_OVERLAP_TOKENS=120

# =============================================================================
# Milvus Vector Store
# =============================================================================
MILVUS_COLLECTION=tender_chunks
MILVUS_METRIC=IP
MILVUS_INDEX_TYPE=HNSW
MILVUS_HNSW_M=24
MILVUS_HNSW_EF=200

# =============================================================================
# Neo4j Knowledge Graph
# =============================================================================
# Choose one configuration: LOCAL (development) or AURA (production)

# -----------------------------------------------------------------------------
# LOCAL DEVELOPMENT (Docker)
# -----------------------------------------------------------------------------
# Use these for local development with docker-compose
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=tendergraph2025
NEO4J_DATABASE=neo4j
NEO4J_ENV=local

# -----------------------------------------------------------------------------
# PRODUCTION (Neo4j Aura Cloud)
# -----------------------------------------------------------------------------
# Uncomment and fill these for production with Neo4j Aura
# Get credentials from: https://console.neo4j.io
# NEO4J_URI=neo4j+s://xxxxx.databases.neo4j.io
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your-aura-password
# NEO4J_DATABASE=neo4j
# NEO4J_ENV=aura
# AURA_INSTANCEID=your-instance-id
# AURA_INSTANCENAME=Instance name

# =============================================================================
# Architecture Notes
# =============================================================================
# Local (Docker):
#   - Start with: docker-compose up -d neo4j
#   - Access browser: http://localhost:7474
#   - Connection: bolt://localhost:7687 (unencrypted)
#
# Aura (Cloud):
#   - No Docker needed
#   - Access browser: https://console.neo4j.io
#   - Connection: neo4j+s://xxxxx.databases.neo4j.io (TLS encrypted)
#   - Auto-managed backups and updates
#   - Better for production/collaboration
#
# The application auto-detects the environment based on NEO4J_URI scheme:
#   - bolt:// → Local mode (no TLS)
#   - neo4j+s:// → Aura mode (TLS with system CA)
